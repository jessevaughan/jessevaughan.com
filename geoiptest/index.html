<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>GeopIP test</title>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
    <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>

    <script type="text/javascript">
      var fillInPage = (function () {
          var updateCountryText = function (geoipResponse) {     

              var countryName = geoipResponse.country.iso_code;
       
              $("#country").html(countryName);
          };
       
          var onSuccess = function (geoipResponse) {
              updateCountryText(geoipResponse);
          };
       
          /* If we get an error we will */
          var onError = function (error) {
              return;
          };
       
          return function () {
              geoip2.country( onSuccess, onError );
          };
      }());
       
      fillInPage();
    </script>
    <script type="text/javascript">
      var euCookie = (function () {

        var updateCookie = function (geoipResponse) { 

          var countryCode = geoipResponse.country.iso_code;

          if(geoipResponse.country.iso_code === "DE") {
            // Evidon tag
            // cid: 412
            // pid: 2708
            $('#_bapw-link a').text('Cookie-Einverst√§ndnis');
            (function() {
              var ev = document.createElement('script'); ev.type = 'text/javascript'; ev.async = true; ev.setAttribute('data-ev-tag-pid', 2708); ev.setAttribute('data-ev-tag-ocid', 412);
              ev.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'c.betrad.com/pub/tag.js';
              var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ev, s);
            })();
            (function() {
              var hn = document.createElement('script'); hn.type = 'text/javascript'; hn.async = true; hn.setAttribute('data-ev-hover-pid', 2708); hn.setAttribute('data-ev-hover-ocid', 412);
              hn.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'c.betrad.com/geo/h1.js';
              var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(hn, s);
            })();
          }
          else if(geoipResponse.country.iso_code === "ES") {
            // Ghostery Inc tag
            // cid: 412
            // pid: 3475
            (function() {
              var ev = document.createElement('script'); ev.type = 'text/javascript'; ev.async = true; ev.setAttribute('data-ev-tag-pid', 3475); ev.setAttribute('data-ev-tag-ocid', 412); 
              ev.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'c.betrad.com/pub/tag.js';
              var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ev, s);
            })();
            (function() {
              var hn = document.createElement('script'); hn.type = 'text/javascript'; hn.async = true; hn.setAttribute('data-ev-hover-pid', 3475); hn.setAttribute('data-ev-hover-ocid', 412);
              hn.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'c.betrad.com/geo/h1.js';
              var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(hn, s);
            })();
          }
          else if(geoipResponse.country.iso_code === "FR") {
            // Ghostery Inc tag
            // cid: 412
            // pid: 2709
            (function() {
              var ev = document.createElement('script'); ev.type = 'text/javascript'; ev.async = true; ev.setAttribute('data-ev-tag-pid', 2709); ev.setAttribute('data-ev-tag-ocid', 412); 
              ev.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'c.betrad.com/pub/tag.js';
              var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ev, s);
            })();
            (function() {
              var hn = document.createElement('script'); hn.type = 'text/javascript'; hn.async = true; hn.setAttribute('data-ev-hover-pid', 2709); hn.setAttribute('data-ev-hover-ocid', 412);
              hn.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'c.betrad.com/geo/h1.js';
              var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(hn, s);
            })();
          }
          else if(geoipResponse.country.iso_code === "BE" || geoipResponse.country.iso_code === "BG" || geoipResponse.country.iso_code === "CZ" || geoipResponse.country.iso_code === "DK" || geoipResponse.country.iso_code === "EE" || geoipResponse.country.iso_code === "IE" || geoipResponse.country.iso_code === "EL" || geoipResponse.country.iso_code === "HR" || geoipResponse.country.iso_code === "IT" || geoipResponse.country.iso_code === "CY" || geoipResponse.country.iso_code === "LV" || geoipResponse.country.iso_code === "LT" || geoipResponse.country.iso_code === "LU" || geoipResponse.country.iso_code === "HU" || geoipResponse.country.iso_code === "MT" || geoipResponse.country.iso_code === "NL" || geoipResponse.country.iso_code === "AT" || geoipResponse.country.iso_code === "PL" || geoipResponse.country.iso_code === "PT" || geoipResponse.country.iso_code === "RO" || geoipResponse.country.iso_code === "SI" || geoipResponse.country.iso_code === "SK" || geoipResponse.country.iso_code === "FI" || geoipResponse.country.iso_code === "SE" || geoipResponse.country.iso_code === "UK" || geoipResponse.country.iso_code === "GB") {
            // Evidon tag
            // cid: 412
            // pid: 1930
            (function() {
              var ev = document.createElement('script'); ev.type = 'text/javascript'; ev.async = true; ev.setAttribute('data-ev-tag-pid', 1930); ev.setAttribute('data-ev-tag-ocid', 412);
              ev.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'c.betrad.com/pub/tag.js';
              var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ev, s);
            })();
            (function() {
              var hn = document.createElement('script'); hn.type = 'text/javascript'; hn.async = true; hn.setAttribute('data-ev-hover-pid', 1930); hn.setAttribute('data-ev-hover-ocid', 412);
              hn.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'c.betrad.com/geo/h1.js';
              var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(hn, s);
            })();
          }
          else {
            return;
          }

        };
          

          var onSuccess = function (geoipResponse) {
              updateCookie(geoipResponse);
          };
       
          /* If we get an error we will */
          var onError = function (error) {
              return;
          };
       
          return function () {
              geoip2.country( onSuccess, onError );
          };

          }());
       
      euCookie();
    </script>
</head>
<body>

<div style="text-align: center; width: 50%; padding: 50px; margin: 0 auto;">
<p>This is the <span id="country"></span></p>
</div>
    

<script type="text/javascript">

</script>

</body>
</html>