!function(o,t,s){"use strict";function r(t,s){this.element=t,this.$element=o(t),this.options=o.extend({},e,s),this._defaults=e,this._name=i,this.init()}var i="colorScroll",n=t.document,e={colors:[{color:"#ffffff",position:500},{color:"#e1edff",position:1500},{color:"#f1ffc7",position:2250},{color:"#ffe9bd",position:4e3},{color:"#e8ab9c",position:4500}]},l=function(){var o=n.createElement("div"),t=o.style;return t.cssText="color:rgba(150,255,150,.5)",(""+t.backgroundColor).indexOf("rgba")>-1}(),c=function(o){return function(t,s){return t[o]<s[o]?-1:t[o]>s[o]?1:0}},p=function(o,t,s){var r="rgb"+(l?"a":"")+"("+parseInt(o[0]+s*(t[0]-o[0]),10)+","+parseInt(o[1]+s*(t[1]-o[1]),10)+","+parseInt(o[2]+s*(t[2]-o[2]),10);return l&&(r+=","+(o&&t?parseFloat(o[3]+s*(t[3]-o[3])):1)),r+=")"},a=function(o){var t,s;return(t=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(o))?s=[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1]:(t=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(o))?s=[17*parseInt(t[1],16),17*parseInt(t[2],16),17*parseInt(t[3],16),1]:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(o))?s=[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),1]:(t=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(o))&&(s=[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4])]),s};r.prototype={init:function(){this.options.colors.sort(c("position")),this.currentColor=this.$element.css("color"),this.updateColor(),o(n).on("scroll",o.proxy(this.updateColor,this))},updateColor:function(){var t=o(n).scrollTop(),s,r,i,e;if(t<=this.options.colors[0].position)this.setColor(this.options.colors[0].color);else if(t>=this.options.colors[this.options.colors.length-1].position)this.setColor(this.options.colors[this.options.colors.length-1].color);else{for(var l=0;l<this.options.colors.length;l++){if(!(t>=this.options.colors[l].position)){r=this.options.colors[l].position,e=this.options.colors[l].color;break}s=this.options.colors[l].position,i=this.options.colors[l].color}var c=(t-s)/(r-s),f=p(a(i),a(e),c);this.setColor(f)}},setColor:function(o){o!==this.currentColor&&(this.$element.css("color",o),this.currentColor=o)}},o.fn[i]=function(t){return this.each(function(){o.data(this,"plugin_"+i)||o.data(this,"plugin_"+i,new r(this,t))})}}(jQuery,window);